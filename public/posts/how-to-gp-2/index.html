<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Jakub Wołynko">
    <meta name="description" content="Clean and minimal blog about IT">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to use GitHub Pages #2"/>
<meta name="twitter:description" content="GitHub page at the hard way"/>

    <meta property="og:title" content="How to use GitHub Pages #2" />
<meta property="og:description" content="GitHub page at the hard way" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/how-to-gp-2/" />
<meta property="article:published_time" content="2020-02-26T22:55:46+00:00" />
<meta property="article:modified_time" content="2020-02-26T22:55:46+00:00" />



    
      <base href="/posts/how-to-gp-2/">
    
    <title>
  How to use GitHub Pages #2 · Personal blog
</title>

    
      <link rel="canonical" href="/posts/how-to-gp-2/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    

    

    

    

    <link rel="icon" type="image/png" href="images/f32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="images/f16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.65.3" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Personal blog
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/about/">About</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">How to use GitHub Pages #2</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-02-26T22:55:46Z'>
                February 26, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3-minute read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="/categories/tutorials/">tutorials</a></div>

          
        </div>
      </header>

      <div>
        
        <p>In previous episode I have created short blog post about <code>short blog post</code>. That was quite interesting for me, in meantime I configure my VSC for English support add some small fixes in Markdown file then I realized that manual reload of configuration is huge mistake in context of productive. What is the first tool when we start thinking about automation? In Linux environment of course. For me it&rsquo;s <code>Bash</code>. Let&rsquo;s begin then.</p>
<h2 id="used-tools-for-part-2">Used tools for part #2</h2>
<ul>
<li>Bash</li>
<li>GitHub Pages</li>
</ul>
<h2 id="bash">Bash</h2>
<p><a href="https://www.gnu.org/software/bash/">Bash</a> is an sh-compatible shell that incorporates useful features from the Korn shell (ksh) and C shell (csh)</p>
<h3 id="why">Why?</h3>
<p>Bash is everywhere, on almost every modern *nix system. Maybe it&rsquo;s not most readable language, but if you have at least small idea what you want to achieve, then that&rsquo;s enough to automate it with <code>Bash</code></p>
<h4 id="lets-code">Let&rsquo;s code</h4>
<ol>
<li>
<p>Go inside <code>3sky.io</code> and open new file</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd &lt;page-name&gt;
vim &lt;script&gt;.sh

<span style="font-style:italic"># Example</span>
<span style="font-style:italic"># cd 3sky.io</span>
<span style="font-style:italic"># vim deploy.sh</span>
</code></pre></div></li>
<li>
<p>Write a script</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="">#!/bin/bash
</span><span style=""></span>set -e
<span style="font-style:italic"># -e = Exit immediately if a command exits with a non-zero status</span>

<span style="font-style:italic"># Set as hardcode, it&#39;s easier</span>
PROJECT_DIR=/home/kuba/3sky.io

<span style="font-style:italic"># Cleanup public directory</span>
<span style="font-style:italic"># Always be sure what you delete</span>
rm -rf $PROJECT_DIR/public

<span style="font-style:italic"># Generate static</span>
cd $PROJECT_DIR
hugo

<span style="font-style:italic"># Copy directory</span>
sudo cp -R $PROJECT_DIR/public /var/www/

<span style="font-style:italic"># Change owner of file</span>
sudo chown -R <span style="font-weight:bold">$(</span>ps aux|grep nginx|grep -v grep| grep -v master| cut -d<span style="font-style:italic">&#34; &#34;</span> -f1<span style="font-weight:bold">)</span>. /varwww/public/

<span style="font-style:italic"># Restart Nginx</span>
sudo systemctl restart nginx.service
</code></pre></div><p>It&rsquo;s very similar to steps from previous post isn&rsquo;t it ?</p>
</li>
<li>
<p>Add execution permission</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x &lt;script&gt;.sh

<span style="font-style:italic"># Example</span>
<span style="font-style:italic">#chmod +x deploy.sh</span>
</code></pre></div></li>
<li>
<p>Check how it works</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./deploy.sh
</code></pre></div></li>
</ol>
<h4 id="summary">Summary</h4>
<p>After that small intervention I cat reload my developer service after every update without any problems or manual work. What is important bash script works and is stable. Not everything is as pleasant as not repeating boring work. Now it&rsquo;s time for go-live.</p>
<h2 id="github-pages">GitHub Pages</h2>
<p><a href="https://help.github.com/en/github/working-with-github-pages/about-github-pages">GitHub Pages</a> is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub, optionally runs the files through a build process, and publishes a website. You can see examples of GitHub Pages sites in the GitHub Pages examples collection.</p>
<h3 id="why-1">Why?</h3>
<p>We already talk about that, it&rsquo;s free and till writing this series I didn&rsquo;t hear any complaints. Also I have a simple <a href="https://pages.github.com/">documentation</a>. So why not?</p>
<h4 id="lets-code-1">Let&rsquo;s code</h4>
<ol>
<li>
<p>Create a GitHub repo with schema <code>github.com/username/username.github.io</code> and clone it</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/username/username.github.io

<span style="font-style:italic"># Example</span>
<span style="font-style:italic"># git clone https://github.com/3sky/3sky.github.io</span>
</code></pre></div></li>
<li>
<p>Great, now we should treat this directory as Nginx&rsquo;s  <code>public</code> directory.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cp -R public/* username.github.io

<span style="font-style:italic"># Example</span>
<span style="font-style:italic"># cp -R public/* 3sky.github.io</span>
</code></pre></div></li>
<li>
<p>Now just push it</p>
<ol>
<li>
<p>Go to directory</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd 3sky.github.io
</code></pre></div></li>
<li>
<p>Add all file under tracking</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add -A
</code></pre></div></li>
<li>
<p>Configure user and email</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git config --global user.name <span style="font-style:italic">&#34;FIRST_NAME LAST_NAME&#34;</span>
git config --global user.email <span style="font-style:italic">&#34;MY_NAME@example.com&#34;</span>

<span style="font-style:italic"># Example</span>
<span style="font-style:italic"># git config --global user.name &#34;3sky&#34;</span>
<span style="font-style:italic"># git config --global user.email &#34;3sky@protonmail.com&#34;</span>
</code></pre></div></li>
<li>
<p>Add commit message</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit -m <span style="font-style:italic">&#39;my first blog commit&#39;</span>
</code></pre></div></li>
<li>
<p>Push it</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push
</code></pre></div></li>
<li>
<p>Now provide some credentials I can reccomend tokens for machines like GCP.</p>
<ol>
<li>
<p>Use this <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">guid</a> - it&rsquo;s better to use orginal docs.</p>
</li>
<li>
<p>Type you&rsquo;re user and token.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kuba@app-9545cd49c0a34f27:~/3sky.github.io$ git push
Username <span style="font-weight:bold">for</span> <span style="font-style:italic">&#39;https://github.com&#39;</span>: 3sky
Password <span style="font-weight:bold">for</span> <span style="font-style:italic">&#39;https://3sky@github.com&#39;</span>:
</code></pre></div></li>
<li>
<p>And I&rsquo;m done blog is live, but&hellip;</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="summary-1">Summary</h4>
<p>It&rsquo;s working very slow. My first deploy lasted more than 1hour, so take a breath and just go for a walk, I can recommend long walk. What will be next? CD system, but which one? And what about automatic test? You can ask now <code>why the heck I need automatic tests?</code>. Because if something take so long, it&rsquo;s better to deploy stable and tested version.</p>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3>See also in GitHub Pages</h3>
      <nav>
        <ul>
        
        
          
        
          
            <li>
              <a href="/posts/how-to-gp-1/">How to use GitHub Pages #1</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>Hosted for free by GitHub :*</p>
    
    
      
        © 2020
      
       Jakub Wołynko 
    
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>

    

    

  </body>

</html>
